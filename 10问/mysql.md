1. mysql索引原理
2. mysql事务
3. mysql锁 
4. 三层b+树索引可以存多少条数据？
5. 联合索引的技巧
  - 覆盖索引
  - 最左匹配
  - 索引下推










4. 三层b+树索引可以存多少条数据？
   答：
    背景
      Innodb引擎数据是索引记录和用户记录都存在"页"中，页大小是16kb;
      B+索引的存储结构是:叶子结点存用户记录，非叶子结点存索引记录;
      索引记录主要存用户记录的主键和指向其他页的指针;
      用户记录存用户建立的行数据;
    数据
      页大小是16kb
      非叶子结点中主键大小是8b;
      非叶子结点中页指针是6b;
      假设叶子结点中每行记录是1kb  
    计算
      第一层:
        最少2条
        最多16*1024/(6+8)=1170条
      第二层:
        最少1170+1=1171条
        最多1170*1170=1368900条
      第三层: 
        最少1170*16+1=1w+
        最多1368900*16=2kw+

        备注：b+树每一个节点都是一个页，如果页满了(16kb),就会分裂出新的页，此时树的节点就会增加可能会引起树高的变化


## MySql实战45讲      
  - 一条sql查询语句是如何执行的?
    - mysql架构可以分为Sever层和存储引擎层两部分
      - Sever层:
      - 存储引擎层:

  - 一条sql更新语句是如何执行的?
    - redolog(存储引擎层InnoDB):数据库崩溃后的数据恢复
    - binlog (Server层):
    - 两阶段提交:为了使redolog和binlog逻辑一致
    - 为什么binlog不能做数据库崩溃恢复?

  - 事务隔离(保证事务正确可靠: 原子性,一致性,隔离性,持久性)
    - 读未提交: 一个事务还没提交它做的变更就能被别的事务看到
    - 读提交:一个事务提交之后它做的变更才能被其他事务看到
    - 可重复读:一个事务执行过程中可看到数据总是跟这个事务在启动时看到的数据一致
    - 串行化:对于同一行记录写会加写锁,读会加读锁，当出现读写冲突时，后访问的事务等前一个事务执行完成后才能执行

  - 索引 
    - InnoDB索引模型 
    - 主键索引
    - 普通索引
    - 覆盖索引
    - 联合索引
    - 最左前缀原则
    - 索引下推

  - 全局锁(全库只读不能写)
    - 使用场景
      - 全库备份
  - 表级锁
  - 行级锁

  - 更新操作的事务隔离